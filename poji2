local WindUI = loadstring(game:HttpGet("https://github.com/Footagesus/WindUI/releases/latest/download/main.lua"))()

-- åˆ›å»ºçª—å£ï¼ŒåªåŒ…å«å¯†é’¥ç³»ç»Ÿ
local Window = WindUI:CreateWindow({
    Title = "ç ´æˆŸè„šæœ¬",
    Icon = "rbxassetid://129260712070622",
    IconThemed = true,
    Author = "ç ´æˆŸè„šæœ¬é€šç”¨æµ‹è¯•ç‰ˆ",
    Folder = "æµ‹è¯•å‘˜å¹»ç¥",
    Size = UDim2.fromOffset(400, 300),
    Theme = "Dark",
    
    -- å¯†é’¥ç³»ç»Ÿé…ç½®
    KeySystem = {
        Key = { "wawsedrftg1" },
        Note = "è¯·è¾“å…¥æ­£ç¡®çš„å¯†é’¥\n\nå¯†é’¥è¯·å…¥qç¾¤è·å¾—732421171",
        SaveKey = true,
    },
})

-- æ·»åŠ ä¸€ä¸ªåŸºç¡€æ ‡ç­¾é¡µä½œä¸ºç¤ºä¾‹
local MainSection = Window:Section({
    Title = "åŸºç¡€åŠŸèƒ½",
    Opened = true,
})

-- é¦–å…ˆåˆ›å»ºå…¬å‘Šæ ‡ç­¾é¡µï¼ˆåœ¨ä¿¡æ¯æ ‡ç­¾é¡µä¹‹å‰ï¼‰
local AnnouncementTab = MainSection:Tab({ Title = "å…¬å‘Š", Icon = "megaphone" })

-- æ·»åŠ å…¬å‘Šå†…å®¹ï¼Œä½¿ç”¨æ­£ç¡®æ—¥æœŸï¼š2026å¹´2æœˆ6æ—¥
AnnouncementTab:Section({ Title = "ğŸ“¢ é‡è¦å…¬å‘Š", Opened = true })

AnnouncementTab:Paragraph({
    Title = "ã€è„šæœ¬å‘å¸ƒã€‘ç ´æˆŸè„šæœ¬v1.0æ­£å¼ä¸Šçº¿",
    Desc = "ğŸ“… å‘å¸ƒæ—¥æœŸï¼š2026å¹´2æœˆ6æ—¥\n\nğŸ‰ æˆ‘ä»¬å¾ˆé«˜å…´åœ°å®£å¸ƒï¼Œç ´æˆŸè„šæœ¬v1.0é€šç”¨æµ‹è¯•ç‰ˆä»Šå¤©æ­£å¼å¼€å¯æµ‹è¯•åå•ï¼\n\nâœ¨ ä¸»è¦åŠŸèƒ½ï¼š\nâœ… å®Œæ•´çš„ç©å®¶æ§åˆ¶åŠŸèƒ½\nâœ… å¼ºå¤§çš„æˆ˜æ–—ç³»ç»Ÿ\nâœ… å¢å¼ºçš„è§†è§‰æ•ˆæœ\nâœ… ä¾¿æ·çš„å·¥å…·é›†åˆ\n\nâš ï¸ æ³¨æ„ï¼šè„šæœ¬ä»å¤„äºæµ‹è¯•é˜¶æ®µï¼Œä½¿ç”¨ä¸­å¦‚é‡åˆ°é—®é¢˜è¯·åŠæ—¶åé¦ˆã€‚\n\næ„Ÿè°¢æ‚¨çš„æ”¯æŒï¼",
    Image = "bell",
})

AnnouncementTab:Paragraph({
    Title = "ã€æ›´æ–°è¯´æ˜ã€‘ç‰ˆæœ¬v1.0æ›´æ–°å†…å®¹",
    Desc = "ğŸ“… å‘å¸ƒæ—¥æœŸï¼š2026å¹´2æœˆ6æ—¥\n\nğŸ†• æœ¬æ¬¡æ›´æ–°ä¸»è¦å†…å®¹ï¼š\n\nâœ… æ–°å¢åŠŸèƒ½ï¼š\nâ€¢ å®Œæ•´çš„ä¼ é€ä¸ç©å®¶æ§åˆ¶ç³»ç»Ÿ\nâ€¢ æˆ˜æ–—åŠŸèƒ½ï¼ˆæ€æˆ®å…‰ç¯ï¼‰\nâ€¢ ç©å®¶å±æ€§è°ƒèŠ‚ç³»ç»Ÿ\nâ€¢ è§†è§‰æ•ˆæœå¢å¼ºæ¨¡å—\nâ€¢ å·¥å…·é›†æˆåŠŸèƒ½\n\nâœ… ä¿®å¤é—®é¢˜ï¼š\nâ€¢ ä¿®å¤ç©å®¶é€‰æ‹©åŠŸèƒ½\nâ€¢ ä¼˜åŒ–ç”©é£ç³»ç»Ÿ\nâ€¢ æ”¹è¿›UIç•Œé¢\nâ€¢ æå‡è„šæœ¬ç¨³å®šæ€§\n\nğŸ“¢ è¯·ç¡®ä¿ä½¿ç”¨æœ€æ–°ç‰ˆæœ¬ä»¥è·å¾—æœ€ä½³ä½“éªŒï¼",
    Image = "refresh-cw",
})

AnnouncementTab:Paragraph({
    Title = "ã€ä½¿ç”¨é¡»çŸ¥ã€‘è„šæœ¬ä½¿ç”¨è§„åˆ™",
    Desc = "ğŸ“… å‘å¸ƒæ—¥æœŸï¼š2026å¹´2æœˆ6æ—¥\n\nâš ï¸ é‡è¦æé†’ï¼š\n\n1. æœ¬è„šæœ¬ä»…ä¾›æµ‹è¯•ä½¿ç”¨\n2. è¯·åœ¨å…è®¸çš„æœåŠ¡å™¨æˆ–å•æœºæ¨¡å¼ä¸­ä½¿ç”¨\n3. ä¸¥ç¦å€’å–\n4. ç¦æ­¢å€’å–æˆ–æœªç»æˆæƒåˆ†å‘\n\nğŸ”’ å®‰å…¨è¯´æ˜ï¼š\nâ€¢ è„šæœ¬ä¸ºæµ‹è¯•æä¾›ï¼Œæš‚æ—¶ä¸æ”¶è´¹\nâ€¢ æ›´æ–°è¯·å…³æ³¨å®˜æ–¹æ¸ é“\nâ€¢ é‡åˆ°é—®é¢˜è¯·åŠ Qç¾¤åé¦ˆ\n\nğŸ“± è”ç³»æ”¯æŒï¼š\nâ€¢ QQç¾¤ï¼š732421171\nâ€¢ åé¦ˆè¯·æä¾›è¯¦ç»†é—®é¢˜æè¿°",
    Image = "alert-circle",
})

AnnouncementTab:Paragraph({
    Title = "ã€åŠŸèƒ½è¯´æ˜ã€‘ä¸»è¦åŠŸèƒ½ä»‹ç»",
    Desc = "ğŸ“… å‘å¸ƒæ—¥æœŸï¼š2026å¹´2æœˆ6æ—¥\n\nğŸ¯ è„šæœ¬æ ¸å¿ƒåŠŸèƒ½ï¼š\n\n1. ç©å®¶æ§åˆ¶æ¨¡å—\nâ€¢ é€Ÿåº¦è°ƒèŠ‚ã€ç©¿å¢™ã€æ— æ•Œ\nâ€¢ æ— é™è·³ã€ä¼ é€è¡Œèµ°\n\n2. æˆ˜æ–—ç³»ç»Ÿ\nâ€¢ æ€æˆ®å…‰ç¯è‡ªåŠ¨æ”»å‡»\nâ€¢ ç”©é£ç©å®¶åŠŸèƒ½\n\n3. è§†è§‰å¢å¼º\nâ€¢ å¤œè§†ã€é€è§†ã€å»é›¾\nâ€¢ ç¼©æ”¾è·ç¦»è°ƒèŠ‚\n\n4. å·¥å…·é›†åˆ\nâ€¢ é£è¡Œè„šæœ¬åŠ è½½\nâ€¢ ç©å®¶ä¼ é€æ§åˆ¶\n\nğŸ’¡ æç¤ºï¼šæ‰€æœ‰åŠŸèƒ½å‡å¯é€šè¿‡æ»‘å—å’Œå¼€å…³çµæ´»è°ƒèŠ‚ï¼",
    Image = "zap",
})

AnnouncementTab:Section({ Title = "ğŸ“± è”ç³»æ–¹å¼", Opened = true })

AnnouncementTab:Paragraph({
    Title = "å®˜æ–¹è”ç³»æ–¹å¼",
    Desc = "ğŸ“… å‘å¸ƒæ—¥æœŸï¼š2026å¹´2æœˆ6æ—¥\n\nå¦‚æœæ‚¨åœ¨ä½¿ç”¨è¿‡ç¨‹ä¸­é‡åˆ°ä»»ä½•é—®é¢˜ï¼Œæˆ–è€…æœ‰ä»»ä½•å»ºè®®ï¼Œè¯·é€šè¿‡ä»¥ä¸‹æ–¹å¼è”ç³»æˆ‘ä»¬ï¼š\n\nğŸ’¬ QQç¾¤ï¼š732421171\n\nğŸ“§ åé¦ˆå†…å®¹ï¼š\nâ€¢ è„šæœ¬ç‰ˆæœ¬å·\nâ€¢ é‡åˆ°çš„é—®é¢˜æè¿°\nâ€¢ æœŸæœ›çš„åŠŸèƒ½æ”¹è¿›\nâ€¢ æˆªå›¾æˆ–è§†é¢‘ï¼ˆå¦‚æœ‰ï¼‰\n\nâ° æœåŠ¡æ—¶é—´ï¼š\nâ€¢ æ¯å¤©10:00-22:00\nâ€¢ å‘¨æœ«æ­£å¸¸æœåŠ¡\n\næ„Ÿè°¢æ‚¨çš„ç†è§£ä¸æ”¯æŒï¼",
    Image = "mail",
})


local MainTab = MainSection:Tab({ Title = "ä¿¡æ¯", Icon = "info" })

-- æ·»åŠ æ¬¢è¿ä¿¡æ¯éƒ¨åˆ†
MainTab:Section({ Title = "ğŸ‰ æ¬¢è¿ä¿¡æ¯", Opened = true })

MainTab:Paragraph({
    Title = "æ¬¢è¿ä½¿ç”¨ç ´æˆŸè„šæœ¬",
    Desc = "æµ‹è¯•å‘˜å¹»ç¥æ‚¨å¥½ï¼æ¬¢è¿ä½¿ç”¨ç ´æˆŸè„šæœ¬(^o^)/ï¼Œç”±äºè¯¥è„šæœ¬å¤„äºæµ‹è¯•é˜¶æ®µï¼Œå¦‚æœæœ‰é—®é¢˜è¯·å‰å¾€æˆ‘ä»¬çš„qç¾¤åé¦ˆï¼Œæ­¤è„šæœ¬æ°¸è¿œå…è´¹ã€‚\n\nğŸ’¡ å°è´´å£«ï¼šç‚¹å‡»å·¦ä¾§æ ‡ç­¾é¡µåˆ‡æ¢ä¸åŒåŠŸèƒ½æ¨¡å—ï¼",
    Image = "check-circle",
})

-- æ·»åŠ ç©å®¶ä¿¡æ¯éƒ¨åˆ†
MainTab:Section({ Title = "ğŸ‘¤ ç©å®¶ä¿¡æ¯", Opened = true })

-- è·å–æ³¨å…¥å™¨ä¿¡æ¯
local executor = "æœªçŸ¥"
local success, result = pcall(function()
    return identifyexecutor()
end)
if success and result then
    executor = result
end

MainTab:Paragraph({
    Title = "æ³¨å…¥å™¨ä¿¡æ¯",
    Desc = "æ‚¨çš„æ³¨å…¥å™¨: " .. executor .. "\n\nè¯·ç¡®ä¿æ‚¨çš„æ³¨å…¥å™¨æ”¯æŒæœ€æ–°çš„è„šæœ¬åŠŸèƒ½ã€‚",
})

-- è·å–ç©å®¶ä¿¡æ¯
local Players = game:GetService("Players")
local localPlayer = Players.LocalPlayer

MainTab:Paragraph({
    Title = "ç”¨æˆ·å",
    Desc = "æ‚¨çš„ç”¨æˆ·å: " .. localPlayer.Name,
})

MainTab:Paragraph({
    Title = "æ˜¾ç¤ºåç§°",
    Desc = "æ‚¨çš„æ˜¾ç¤ºåç§°: " .. localPlayer.DisplayName,
})

MainTab:Paragraph({
    Title = "æœåŠ¡å™¨ä¿¡æ¯",
    Desc = "æ‚¨å½“å‰æœåŠ¡å™¨çš„ID: " .. tostring(game.GameId),
})

MainTab:Paragraph({
    Title = "ç”¨æˆ·ID",
    Desc = "æ‚¨çš„ç”¨æˆ·ID: " .. tostring(localPlayer.UserId),
})

-- è·å–å®¢æˆ·ç«¯ID
local clientId = "æœªçŸ¥"
local success2, result2 = pcall(function()
    return game:GetService("RbxAnalyticsService"):GetClientId()
end)
if success2 and result2 then
    clientId = result2
end

MainTab:Paragraph({
    Title = "å®¢æˆ·ç«¯ID",
    Desc = "æ‚¨çš„å®¢æˆ·ç«¯ID: " .. clientId,
})

-- ç¾¤ç»„ä¿¡æ¯éƒ¨åˆ†
MainTab:Section({ Title = "ğŸ‘¥ ç¾¤ç»„ä¿¡æ¯", Opened = true })

MainTab:Paragraph({
    Title = "ç ´æˆŸè„šæœ¬ä¸»ç¾¤",
    Desc = "ç¾¤å·: 732421171\n\nå¦‚æœæ‚¨åœ¨ä½¿ç”¨è¿‡ç¨‹ä¸­é‡åˆ°ä»»ä½•é—®é¢˜ï¼Œæˆ–è€…æƒ³è¦è·å–æœ€æ–°çš„è„šæœ¬æ›´æ–°å’Œå¯†é’¥ï¼Œè¯·åŠ å…¥æˆ‘ä»¬çš„QQç¾¤ã€‚\n\nğŸ“± ç¾¤åŠŸèƒ½ï¼š\nâœ… è„šæœ¬é—®é¢˜è§£ç­”\nâœ… æœ€æ–°ç‰ˆæœ¬å‘å¸ƒ\nâœ… ç”¨æˆ·äº¤æµäº’åŠ¨\nâœ… åŠŸèƒ½å»ºè®®åé¦ˆ",
    Image = "users",
})

MainTab:Button({
    Title = "å¤åˆ¶ç¾¤å·",
    Desc = "ç‚¹å‡»å¤åˆ¶ç¾¤å· 732421171",
    Callback = function()
        local success, err = pcall(function()
            setclipboard("732421171")
        end)
        
        if success then
            WindUI:Notify({
                Title = "ç ´æˆŸè„šæœ¬",
                Content = "ç¾¤å·å·²å¤åˆ¶åˆ°å‰ªè´´æ¿: 732421171",
                Icon = "check",
                Duration = 3,
            })
        else
            WindUI:Notify({
                Title = "ç ´æˆŸè„šæœ¬",
                Content = "å¤åˆ¶å¤±è´¥ï¼Œè¯·æ‰‹åŠ¨å¤åˆ¶: 732421171",
                Icon = "x",
                Duration = 3,
            })
        end
    end
})

-- åˆ›å»ºé€šç”¨åŠŸèƒ½æ ‡ç­¾é¡µ
local GeneralTab = MainSection:Tab({ Title = "é€šç”¨åŠŸèƒ½", Icon = "zap" })

-- æ·»åŠ ç©å®¶ç§»åŠ¨æ§åˆ¶åŠŸèƒ½
GeneralTab:Section({ Title = "ç©å®¶ç§»åŠ¨æ§åˆ¶" })

-- ç©å®¶é€Ÿåº¦æ§åˆ¶ (WalkSpeed)
local walkSpeedValue = 16
local walkSpeedEnabled = false

GeneralTab:Slider({
    Title = "ç©å®¶é€Ÿåº¦",
    Desc = "è°ƒæ•´ç©å®¶è¡Œèµ°é€Ÿåº¦ (speedwalk)",
    Value = { Min = 0, Max = 1000, Default = 16 },
    Callback = function(Value)
        walkSpeedValue = Value
        if walkSpeedEnabled and localPlayer.Character and localPlayer.Character:FindFirstChild("Humanoid") then
            localPlayer.Character.Humanoid.WalkSpeed = Value
        end
    end
})

GeneralTab:Toggle({
    Title = "å¼€å¯é€Ÿåº¦",
    Value = false,
    Callback = function(Value) 
        walkSpeedEnabled = Value
        
        -- åˆ›å»ºæˆ–åœæ­¢é€Ÿåº¦æ›´æ–°å¾ªç¯
        if Value then
            local speedLoop
            speedLoop = game:GetService("RunService").Heartbeat:Connect(function()
                if walkSpeedEnabled and localPlayer.Character and localPlayer.Character:FindFirstChild("Humanoid") then
                    localPlayer.Character.Humanoid.WalkSpeed = walkSpeedValue
                else
                    speedLoop:Disconnect()
                end
            end)
        end
        
        WindUI:Notify({
            Title = "ç ´æˆŸè„šæœ¬ï¼š",
            Content = Value and "å·²å¼€å¯é€Ÿåº¦" or "å·²å…³é—­é€Ÿåº¦",
            Icon = Value and "check" or "x",
            Duration = 2
        })
    end
})

-- ç©å®¶ä¼ é€è¡Œèµ° (Teleport Walk)
GeneralTab:Slider({
    Title = "ä¼ é€é€Ÿåº¦",
    Desc = "è°ƒæ•´ä¼ é€è·ç¦» (tpwalk)",
    Value = { Min = 0, Max = 10, Default = 0 },
    Callback = function(value)
        -- è¿™é‡Œåªæ˜¯è®¾ç½®å€¼ï¼Œå®é™…åŠŸèƒ½åœ¨ä¸‹é¢çš„å¼€å…³ä¸­å¯ç”¨
        _G.TeleportDistance = value
    end
})

-- ä¼ é€è¡Œèµ°åŠŸèƒ½å¼€å…³
GeneralTab:Toggle({
    Title = "å¯ç”¨ä¼ é€è¡Œèµ°",
    Value = false,
    Callback = function(state)
        if state then
            -- å¯ç”¨ä¼ é€è¡Œèµ°
            local character = localPlayer.Character or localPlayer.CharacterAdded:Wait()
            local humanoid = character:WaitForChild("Humanoid")
            local rootPart = character:WaitForChild("HumanoidRootPart")
            
            -- ç¦ç”¨é»˜è®¤ç§»åŠ¨çŠ¶æ€
            local function DisableDefaultMovement()
                humanoid:SetStateEnabled(Enum.HumanoidStateType.Climbing, false)
                humanoid:SetStateEnabled(Enum.HumanoidStateType.FallingDown, false)
                humanoid:SetStateEnabled(Enum.HumanoidStateType.Flying, false)
                humanoid:SetStateEnabled(Enum.HumanoidStateType.Freefall, false)
                humanoid:SetStateEnabled(Enum.HumanoidStateType.GettingUp, false)
                humanoid:SetStateEnabled(Enum.HumanoidStateType.Jumping, false)
                humanoid:SetStateEnabled(Enum.HumanoidStateType.Landed, false)
                humanoid:SetStateEnabled(Enum.HumanoidStateType.Physics, false)
                humanoid:SetStateEnabled(Enum.HumanoidStateType.PlatformStanding, false)
                humanoid:SetStateEnabled(Enum.HumanoidStateType.Ragdoll, false)
                humanoid:SetStateEnabled(Enum.HumanoidStateType.Running, false)
                humanoid:SetStateEnabled(Enum.HumanoidStateType.RunningNoPhysics, false)
                humanoid:SetStateEnabled(Enum.HumanoidStateType.Seated, false)
                humanoid:SetStateEnabled(Enum.HumanoidStateType.StrafingNoPhysics, false)
                humanoid:SetStateEnabled(Enum.HumanoidStateType.Swimming, false)
            end
            
            -- å¯ç”¨é»˜è®¤ç§»åŠ¨çŠ¶æ€
            local function EnableDefaultMovement()
                humanoid:SetStateEnabled(Enum.HumanoidStateType.Climbing, true)
                humanoid:SetStateEnabled(Enum.HumanoidStateType.FallingDown, true)
                humanoid:SetStateEnabled(Enum.HumanoidStateType.Flying, true)
                humanoid:SetStateEnabled(Enum.HumanoidStateType.Freefall, true)
                humanoid:SetStateEnabled(Enum.HumanoidStateType.GettingUp, true)
                humanoid:SetStateEnabled(Enum.HumanoidStateType.Jumping, true)
                humanoid:SetStateEnabled(Enum.HumanoidStateType.Landed, true)
                humanoid:SetStateEnabled(Enum.HumanoidStateType.Physics, true)
                humanoid:SetStateEnabled(Enum.HumanoidStateType.PlatformStanding, true)
                humanoid:SetStateEnabled(Enum.HumanoidStateType.Ragdoll, true)
                humanoid:SetStateEnabled(Enum.HumanoidStateType.Running, true)
                humanoid:SetStateEnabled(Enum.HumanoidStateType.RunningNoPhysics, true)
                humanoid:SetStateEnabled(Enum.HumanoidStateType.Seated, true)
                humanoid:SetStateEnabled(Enum.HumanoidStateType.StrafingNoPhysics, true)
                humanoid:SetStateEnabled(Enum.HumanoidStateType.Swimming, true)
            end
            
            -- ä¼ é€å‡½æ•°
            local function Teleport()
                if not rootPart or not humanoid then return end
                
                local moveDirection = humanoid.MoveDirection
                if moveDirection.Magnitude == 0 then return end
                
                local teleportDistance = _G.TeleportDistance or 0
                local teleportVector = moveDirection * teleportDistance
                
                -- æ£€æµ‹éšœç¢ç‰©
                local raycastParams = RaycastParams.new()
                raycastParams.FilterDescendantsInstances = {character}
                raycastParams.FilterType = Enum.RaycastFilterType.Blacklist
                
                local raycastResult = workspace:Raycast(rootPart.Position, teleportVector, raycastParams)
                
                if raycastResult then
                    teleportVector = (raycastResult.Position - rootPart.Position).Unit * teleportDistance
                end
                
                rootPart.CFrame = rootPart.CFrame + teleportVector
            end
            
            DisableDefaultMovement()
            local connection = game:GetService("RunService").Heartbeat:Connect(Teleport)
            
            -- ä¿å­˜è¿æ¥ä»¥ä¾¿å…³é—­æ—¶æ–­å¼€
            _G.TeleportConnection = connection
        else
            -- ç¦ç”¨ä¼ é€è¡Œèµ°
            if localPlayer.Character and localPlayer.Character:FindFirstChild("Humanoid") then
                local humanoid = localPlayer.Character.Humanoid
                -- å¯ç”¨é»˜è®¤ç§»åŠ¨çŠ¶æ€
                local function EnableDefaultMovement()
                    humanoid:SetStateEnabled(Enum.HumanoidStateType.Climbing, true)
                    humanoid:SetStateEnabled(Enum.HumanoidStateType.FallingDown, true)
                    humanoid:SetStateEnabled(Enum.HumanoidStateType.Flying, true)
                    humanoid:SetStateEnabled(Enum.HumanoidStateType.Freefall, true)
                    humanoid:SetStateEnabled(Enum.HumanoidStateType.GettingUp, true)
                    humanoid:SetStateEnabled(Enum.HumanoidStateType.Jumping, true)
                    humanoid:SetStateEnabled(Enum.HumanoidStateType.Landed, true)
                    humanoid:SetStateEnabled(Enum.HumanoidStateType.Physics, true)
                    humanoid:SetStateEnabled(Enum.HumanoidStateType.PlatformStanding, true)
                    humanoid:SetStateEnabled(Enum.HumanoidStateType.Ragdoll, true)
                    humanoid:SetStateEnabled(Enum.HumanoidStateType.Running, true)
                    humanoid:SetStateEnabled(Enum.HumanoidStateType.RunningNoPhysics, true)
                    humanoid:SetStateEnabled(Enum.HumanoidStateType.Seated, true)
                    humanoid:SetStateEnabled(Enum.HumanoidStateType.StrafingNoPhysics, true)
                    humanoid:SetStateEnabled(Enum.HumanoidStateType.Swimming, true)
                end
                EnableDefaultMovement()
            end
            
            -- æ–­å¼€è¿æ¥
            if _G.TeleportConnection then
                _G.TeleportConnection:Disconnect()
                _G.TeleportConnection = nil
            end
        end
    end
})

-- æ·»åŠ åˆ†å‰²çº¿
GeneralTab:Divider()

GeneralTab:Section({ Title = "ç©å®¶å±æ€§è°ƒæ•´" })

-- ç©å®¶è·³è·ƒåŠ›
GeneralTab:Slider({
    Title = "ç©å®¶è·³è·ƒé«˜åº¦",
    Desc = "è°ƒæ•´ç©å®¶è·³è·ƒåŠ› (JumpPower)",
    Value = { Min = 0, Max = 1000, Default = 50 },
    Callback = function(value)
        if localPlayer.Character and localPlayer.Character:FindFirstChild("Humanoid") then
            localPlayer.Character.Humanoid.JumpPower = value
        end
    end
})

-- ä¸–ç•Œé‡åŠ›
GeneralTab:Slider({
    Title = "ä¸–ç•Œé‡åŠ›",
    Desc = "è°ƒæ•´æ¸¸æˆä¸–ç•Œçš„é‡åŠ›å€¼",
    Value = { Min = 0, Max = 1000, Default = 196.2 },
    Callback = function(value)
        workspace.Gravity = value
    end
})

-- æ·»åŠ åˆ†å‰²çº¿
GeneralTab:Divider()

GeneralTab:Section({ Title = "è§†è§‰æ•ˆæœ" })

-- å¤œè§†åŠŸèƒ½
GeneralTab:Toggle({
    Title = "å¤œè§†",
    Desc = "ä½¿ä½ çš„æ¸¸æˆäº®åº¦æé«˜",
    Value = false,
    Callback = function(state) 
        if state then
            game.Lighting.Ambient = Color3.new(1, 1, 1)
        else
            game.Lighting.Ambient = Color3.new(0, 0, 0)
        end
        WindUI:Notify({
            Title = "ç ´æˆŸè„šæœ¬ï¼š",
            Content = state and "å¤œè§†å·²å¼€å¯ï¼Œè‹¥ä»ä¸æ¸…æ¥šå¯å¼€å¯å»é›¾åŠŸèƒ½" or "å¤œè§†å·²å…³é—­",
            Icon = state and "check" or "x",
            Duration = 2
        })
    end
})

-- åœ°å›¾é€è§†åŠŸèƒ½
local xrayEnabled = false
local xrayConnection = nil

local function xray()
    for _, v in pairs(workspace:GetDescendants()) do
        if v:IsA("BasePart") and not v.Parent:FindFirstChildWhichIsA("Humanoid") and not v.Parent.Parent:FindFirstChildWhichIsA("Humanoid") then
            v.LocalTransparencyModifier = xrayEnabled and 0.5 or 0
        end
    end
end

GeneralTab:Toggle({
    Title = "åœ°å›¾é€è§†",
    Desc = "Xray",
    Value = false,
    Callback = function(state) 
        if state then
            xrayEnabled = true
            xray()
            
            -- ç›‘å¬æ–°å¯¹è±¡
            xrayConnection = workspace.DescendantAdded:Connect(function(v)
                if v:IsA("BasePart") and not v.Parent:FindFirstChildWhichIsA("Humanoid") and not v.Parent.Parent:FindFirstChildWhichIsA("Humanoid") then
                    v.LocalTransparencyModifier = 0.5
                end
            end)
        else
            xrayEnabled = false
            xray()
            
            -- æ–­å¼€è¿æ¥
            if xrayConnection then
                xrayConnection:Disconnect()
                xrayConnection = nil
            end
        end
        WindUI:Notify({
            Title = "ç ´æˆŸè„šæœ¬ï¼š",
            Content = state and "åœ°å›¾é€è§†å·²å¼€å¯ï¼Œè‹¥ä»ä¸æ¸…æ¥šå¯å¼€å¯å…¶ä»–è§†è§‰åŠŸèƒ½" or "åœ°å›¾é€è§†å·²å…³é—­",
            Icon = state and "check" or "x",
            Duration = 2
        })
    end
})

-- å»é›¾åŠŸèƒ½
GeneralTab:Button({
    Title = "å»é›¾",
    Desc = "ä¸€é”®å»é™¤æ¸¸æˆä¸­çš„é›¾",
    Callback = function()
        local function NoFog()
            local c = game.Lighting
            c.FogEnd = 100000
            for r, v in pairs(c:GetDescendants()) do
                if v:IsA("Atmosphere") then
                    v:Destroy()
                end
            end
        end
        
        NoFog()
        local Sound = Instance.new("Sound", game:GetService("SoundService"))
        Sound.SoundId = "rbxassetid://2865227271"
        Sound:Play()
        WindUI:Notify({
            Title = "ç ´æˆŸè„šæœ¬ï¼š",
            Content = "å·²å»é›¾",
            Icon = "bell",
            Duration = 3
        })
    end
})

-- ç¼©æ”¾è·ç¦»è®¾ç½®
GeneralTab:Slider({
    Title = "è®¾ç½®ç¼©æ”¾è·ç¦»",
    Desc = "ZOOOOOM OUT!",
    Value = { Min = 128, Max = 200000, Default = 128 },
    Callback = function(zoomDistance)
        localPlayer.CameraMaxZoomDistance = zoomDistance
    end
})

-- ç¼©æ”¾ç„¦è·è®¾ç½®
GeneralTab:Slider({
    Title = "è®¾ç½®ç¼©æ”¾ç„¦è·(æ­£å¸¸70)",
    Desc = "Sliderflag",
    Value = { Min = 0.1, Max = 250, Default = 70 },
    Callback = function(fieldOfView)
        if workspace.CurrentCamera then
            workspace.CurrentCamera.FieldOfView = fieldOfView
        end
    end
})

-- é˜²æŒ‚æœºåŠŸèƒ½
game:GetService("Players").LocalPlayer.Idled:Connect(function()
    game:GetService("VirtualUser"):Button2Down(Vector2.new(0,0), workspace.CurrentCamera.CFrame)
    wait(1)
    game:GetService("VirtualUser"):Button2Up(Vector2.new(0,0), workspace.CurrentCamera.CFrame)
end)

-- åˆ›å»ºå·¥å…·æ ‡ç­¾é¡µ
local ToolsTab = MainSection:Tab({ Title = "å·¥å…·", Icon = "wrench" })

ToolsTab:Section({ Title = "è„šæœ¬å·¥å…·" })

ToolsTab:Button({
    Title = "ç ´æˆŸé£è¡Œ",
    Desc = "åŠ è½½ç ´æˆŸé£è¡Œè„šæœ¬",
    Callback = function()
        -- åŠ è½½é£è¡Œè„šæœ¬
        loadstring(game:HttpGet("https://raw.githubusercontent.com/dwqqii/poji-dwqqii/main/pojifi"))()
        
        -- æ˜¾ç¤ºé€šçŸ¥
        WindUI:Notify({
            Title = "ç ´æˆŸè„šæœ¬",
            Content = "é£è¡Œè„šæœ¬åŠ è½½æˆåŠŸï¼",
            Icon = "check",
            Duration = 3
        })
    end
})

-- æ·»åŠ åˆ†å‰²çº¿
ToolsTab:Divider()

-- æ·»åŠ ç©å®¶åŠŸèƒ½éƒ¨åˆ†
ToolsTab:Section({ Title = "ç©å®¶åŠŸèƒ½" })

-- ç©¿å¢™åŠŸèƒ½
local clipConnection = nil
local clipEnabled = false

ToolsTab:Toggle({
    Title = "ç©¿å¢™",
    Desc = "NoClip",
    Value = false,
    Callback = function(enabled)
        clipEnabled = enabled
        
        if enabled then
            -- åˆ›å»ºç©¿å¢™è¿æ¥
            clipConnection = game:GetService("RunService").Stepped:Connect(function()
                if clipEnabled then
                    for _, child in pairs(workspace:GetChildren()) do
                        if child.Name == localPlayer.Name then
                            for _, part in pairs(workspace[localPlayer.Name]:GetChildren()) do
                                if part:IsA("BasePart") then
                                    part.CanCollide = false
                                end
                            end
                        end
                    end
                else
                    -- å¦‚æœå…³é—­äº†ï¼Œæ–­å¼€è¿æ¥
                    if clipConnection then
                        clipConnection:Disconnect()
                        clipConnection = nil
                    end
                end
            end)
        else
            -- ç¦ç”¨ç©¿å¢™
            if clipConnection then
                clipConnection:Disconnect()
                clipConnection = nil
            end
            
            -- æ¢å¤ç¢°æ’
            local character = localPlayer.Character
            if character then
                for _, part in pairs(character:GetChildren()) do
                    if part:IsA("BasePart") then
                        part.CanCollide = true
                    end
                end
            end
        end
        
        WindUI:Notify({
            Title = "ç ´æˆŸè„šæœ¬",
            Content = enabled and "ç©¿å¢™å·²å¼€å¯" or "ç©¿å¢™å·²å…³é—­",
            Icon = enabled and "check" or "x",
            Duration = 2
        })
    end
})

-- æ— æ•ŒåŠŸèƒ½
ToolsTab:Toggle({
    Title = "æ— æ•Œ",
    Desc = "LSTM",
    Value = false,
    Callback = function(enabled)
        if enabled then
            local camera = workspace.CurrentCamera
            local cameraCFrame = camera.CFrame
            local character = localPlayer.Character
            local humanoid = character and character:FindFirstChildWhichIsA("Humanoid")
            
            if humanoid then
                local clonedHumanoid = humanoid:Clone()
                clonedHumanoid.Parent = character
                clonedHumanoid:SetStateEnabled(Enum.HumanoidStateType.Health, false)
                clonedHumanoid:SetStateEnabled(Enum.HumanoidStateType.FallingDown, false)
                clonedHumanoid:SetStateEnabled(Enum.HumanoidStateType.Dead, false)
                clonedHumanoid.BreakJointsOnDeath = true
                humanoid:Destroy()
                localPlayer.Character = nil
                localPlayer.Character = character
                camera.CameraSubject = clonedHumanoid

                task.wait() -- ç¨ä½œç­‰å¾…ä»¥ç¡®ä¿å¯¹è±¡ç¨³å®š
                local targetCFrame = cameraCFrame or camera.CFrame
                camera.CFrame = targetCFrame

                clonedHumanoid.DisplayDistanceType = Enum.HumanoidDisplayDistanceType.None
                local animate = character:FindFirstChild("Animate")
                if animate then
                    animate.Disabled = true
                    task.wait()
                    animate.Disabled = false
                end
                clonedHumanoid.Health = clonedHumanoid.MaxHealth
                
                WindUI:Notify({
                    Title = "ç ´æˆŸè„šæœ¬",
                    Content = "æ— æ•Œå·²å¼€å¯",
                    Icon = "check",
                    Duration = 2
                })
            else
                WindUI:Notify({
                    Title = "ç ´æˆŸè„šæœ¬",
                    Content = "æ— æ³•å¼€å¯æ— æ•Œï¼šæœªæ‰¾åˆ°äººç±»å¯¹è±¡",
                    Icon = "x",
                    Duration = 2
                })
            end
        else
            local lpChar = game.Players.LocalPlayer and game.Players.LocalPlayer.Character
            local lpHum = lpChar and lpChar:FindFirstChildWhichIsA("Humanoid")
            if lpHum then
                lpHum.Health = 100
            end
            
            WindUI:Notify({
                Title = "ç ´æˆŸè„šæœ¬",
                Content = "æ— æ•Œå·²å…³é—­",
                Icon = "x",
                Duration = 2
            })
        end
    end
})

-- æ— é™è·³åŠŸèƒ½
local infJumpEnabled = false

ToolsTab:Toggle({
    Title = "æ— é™è·³",
    Desc = "IJ",
    Value = false,
    Callback = function(enabled)
        infJumpEnabled = enabled
        
        if enabled then
            -- å¯ç”¨æ— é™è·³
            game:GetService("UserInputService").JumpRequest:Connect(function()
                if infJumpEnabled then
                    local character = game:GetService("Players").LocalPlayer.Character
                    if character and character:FindFirstChildOfClass("Humanoid") then
                        character:FindFirstChildOfClass("Humanoid"):ChangeState("Jumping")
                    end
                end
            end)
            
            WindUI:Notify({
                Title = "ç ´æˆŸè„šæœ¬",
                Content = "æ— é™è·³å·²å¼€å¯",
                Icon = "check",
                Duration = 2
            })
        else
            WindUI:Notify({
                Title = "ç ´æˆŸè„šæœ¬",
                Content = "æ— é™è·³å·²å…³é—­",
                Icon = "x",
                Duration = 2
            })
        end
    end
})

-- æ·»åŠ åˆ†å‰²çº¿
ToolsTab:Divider()

-- æ·»åŠ æˆ˜æ–—åŠŸèƒ½éƒ¨åˆ†
ToolsTab:Section({ Title = "æˆ˜æ–—åŠŸèƒ½" })

-- æ€æˆ®å…‰ç¯åŠŸèƒ½
local killAuraRunning = false

ToolsTab:Toggle({
    Title = "å¼€å¯æ€æˆ®å…‰ç¯",
    Desc = "è‡ªåŠ¨æ”»å‡»é™„è¿‘æ•Œäºº",
    Value = false,
    Callback = function(enabled)
        if enabled then
            local existingConnections = getgenv().configs and getgenv().configs.connections
            if existingConnections then
                local disableEvent = getgenv().configs.Disable
                for _, connection in pairs(existingConnections) do
                    connection:Disconnect()
                end
                disableEvent:Fire()
                disableEvent:Destroy()
                table.clear(getgenv().configs)
            end
            
            local disableEvent = Instance.new("BindableEvent")
            getgenv().configs = {
                connections = {},
                Disable = disableEvent,
                Size = Vector3.new(10, 10, 10),
                DeathCheck = true,
            }
            
            local RunService = game:GetService("RunService")
            killAuraRunning = true
            
            local overlapParams = OverlapParams.new()
            overlapParams.FilterType = Enum.RaycastFilterType.Include
            
            local function GetCharacter(player)
                if not player then
                    player = localPlayer
                end
                return player.Character
            end
            
            local function GetHumanoid(model)
                if not model then
                    return nil
                end
                
                if type(model) == "userdata" and model.IsA then
                    if model:IsA("Player") then
                        model = GetCharacter(model)
                    end
                    
                    if model and type(model) == "userdata" and model.IsA then
                        if model:IsA("Model") then
                            return model:FindFirstChildWhichIsA("Humanoid") or model:FindFirstChild("Humanoid")
                        elseif model:IsA("Humanoid") then
                            return model
                        end
                    end
                end
                
                return nil
            end
            
            local function IsAlive(humanoid)
                return humanoid and 0 < humanoid.Health
            end
            
            local function HasTouchTransmitter(tool)
                return tool and tool:FindFirstChildWhichIsA("TouchTransmitter", true)
            end
            
            local function GetOtherCharacters(excludeCharacter)
                local characters = {}
                for _, player in pairs(Players:GetPlayers()) do
                    table.insert(characters, GetCharacter(player))
                end
                for index, character in pairs(characters) do
                    if character == excludeCharacter then
                        table.remove(characters, index)
                        break
                    end
                end
                return characters
            end
            
            local function ActivateTool(tool, part, targetPart)
                if tool:IsDescendantOf(workspace) then
                    tool:Activate()
                    firetouchinterest(part, targetPart, 1)
                    firetouchinterest(part, targetPart, 0)
                end
            end
            
            table.insert(getgenv().configs.connections, disableEvent.Event:Connect(function()
                killAuraRunning = false
            end))
            
            -- å¼€å§‹æ€æˆ®å…‰ç¯å¾ªç¯
            task.spawn(function()
                while killAuraRunning do
                    local localCharacter = GetCharacter()
                    if IsAlive(GetHumanoid(localCharacter)) then
                        local tool = localCharacter and localCharacter:FindFirstChildWhichIsA("Tool")
                        local touchTransmitter = tool and HasTouchTransmitter(tool)
                        if touchTransmitter then
                            local toolPart = touchTransmitter.Parent
                            local otherCharacters = GetOtherCharacters(localCharacter)
                            overlapParams.FilterDescendantsInstances = otherCharacters
                            
                            for _, part in pairs(workspace:GetPartBoundsInBox(toolPart.CFrame, toolPart.Size + getgenv().configs.Size, overlapParams)) do
                                local characterModel = part:FindFirstAncestorWhichIsA("Model")
                                if table.find(otherCharacters, characterModel) then
                                    if getgenv().configs.DeathCheck and IsAlive(GetHumanoid(characterModel)) then
                                        ActivateTool(tool, toolPart, part)
                                    elseif not getgenv().configs.DeathCheck then
                                        ActivateTool(tool, toolPart, part)
                                    end
                                end
                            end
                        end
                    end
                    RunService.Heartbeat:Wait()
                end
            end)
            
            WindUI:Notify({
                Title = "ç ´æˆŸè„šæœ¬",
                Content = "æ€æˆ®å…‰ç¯å·²å¼€å¯",
                Icon = "check",
                Duration = 2
            })
            
        else
            -- å…³é—­æ€æˆ®å…‰ç¯
            if getgenv().configs then
                local disableEvent = getgenv().configs.Disable
                if disableEvent then
                    disableEvent:Fire()
                    disableEvent:Destroy()
                end
                
                local configs = getgenv().configs
                local connections = configs.connections
                if connections then
                    for _, connection in pairs(connections) do
                        connection:Disconnect()
                    end
                    table.clear(connections)
                end
            end
            
            killAuraRunning = false
            
            WindUI:Notify({
                Title = "ç ´æˆŸè„šæœ¬",
                Content = "æ€æˆ®å…‰ç¯å·²å…³é—­",
                Icon = "x",
                Duration = 2
            })
        end
    end
})

-- æ·»åŠ åˆ†å‰²çº¿
ToolsTab:Divider()

-- æ·»åŠ å¼ºåŒ–çš„ä¼ é€ä¸ç©å®¶æ§åˆ¶éƒ¨åˆ†
local TeleportControl = ToolsTab:Section({ Title = "ä¼ é€ä¸ç©å®¶æ§åˆ¶", Opened = true })

-- ç©å®¶é€‰æ‹©åŠŸèƒ½ - ä¿®å¤ç‰ˆæœ¬
local selectedPlayerName = localPlayer.Name
local lastSelectedPlayerName = localPlayer.Name

-- åˆ›å»ºç©å®¶é€‰æ‹©çŠ¶æ€æ˜¾ç¤º
local currentPlayerDisplay = TeleportControl:Paragraph({
    Title = "å½“å‰é€‰æ‹©",
    Desc = "ç©å®¶: " .. selectedPlayerName .. "\n\nç‚¹å‡»ä¸‹æ–¹æŒ‰é’®é€‰æ‹©ç›®æ ‡ç©å®¶",
})

-- è·å–ç©å®¶åˆ—è¡¨
local function GetPlayerList()
    local playerList = {}
    for _, player in pairs(Players:GetPlayers()) do
        if player ~= localPlayer then
            table.insert(playerList, player.Name)
        end
    end
    return playerList
end

-- æ›´æ–°ç©å®¶æ˜¾ç¤º
local function UpdatePlayerDisplay()
    if currentPlayerDisplay then
        -- ç”±äºWindUIæ²¡æœ‰ç›´æ¥çš„æ›´æ–°æ–¹æ³•ï¼Œæˆ‘ä»¬éœ€è¦é‡æ–°åˆ›å»ºéƒ¨åˆ†
        -- è¿™é‡Œæˆ‘ä»¬ä½¿ç”¨ä¸€ä¸ªç®€å•çš„æ–‡æœ¬æ›´æ–°æ–¹æ³•
        TeleportControl:UpdateParagraph({
            Title = "å½“å‰é€‰æ‹©",
            Desc = "ç©å®¶: " .. selectedPlayerName .. "\n\nç‚¹å‡»ä¸‹æ–¹æŒ‰é’®é€‰æ‹©ç›®æ ‡ç©å®¶",
        })
    end
end

-- åˆ›å»ºç©å®¶é€‰æ‹©ä¸‹æ‹‰æ¡†
TeleportControl:Button({
    Title = "é€‰æ‹©ç›®æ ‡ç©å®¶",
    Desc = "ç‚¹å‡»æ‰“å¼€ç©å®¶é€‰æ‹©èœå•",
    Callback = function()
        local playerList = GetPlayerList()
        
        if #playerList == 0 then
            WindUI:Notify({
                Title = "ç ´æˆŸè„šæœ¬",
                Content = "å½“å‰æ²¡æœ‰å…¶ä»–ç©å®¶",
                Icon = "users",
                Duration = 3
            })
            return
        end
        
        -- åˆ›å»ºç©å®¶é€‰æ‹©èœå•
        local screenGui = Instance.new("ScreenGui")
        screenGui.Name = "PlayerSelectionGUI"
        screenGui.Parent = game.CoreGui
        
        local frame = Instance.new("Frame")
        frame.Size = UDim2.new(0, 300, 0, 400)
        frame.Position = UDim2.new(0.5, -150, 0.5, -200)
        frame.BackgroundColor3 = Color3.fromRGB(30, 30, 30)
        frame.BorderSizePixel = 2
        frame.BorderColor3 = Color3.fromRGB(60, 60, 60)
        frame.Parent = screenGui
        
        local title = Instance.new("TextLabel")
        title.Size = UDim2.new(1, 0, 0, 50)
        title.Position = UDim2.new(0, 0, 0, 0)
        title.BackgroundColor3 = Color3.fromRGB(45, 45, 45)
        title.Text = "é€‰æ‹©ç›®æ ‡ç©å®¶"
        title.TextColor3 = Color3.fromRGB(255, 255, 255)
        title.Font = Enum.Font.GothamBold
        title.TextSize = 18
        title.Parent = frame
        
        local closeButton = Instance.new("TextButton")
        closeButton.Size = UDim2.new(0, 40, 0, 40)
        closeButton.Position = UDim2.new(1, -45, 0, 5)
        closeButton.BackgroundColor3 = Color3.fromRGB(200, 50, 50)
        closeButton.Text = "X"
        closeButton.TextColor3 = Color3.fromRGB(255, 255, 255)
        closeButton.Font = Enum.Font.GothamBold
        closeButton.TextSize = 16
        closeButton.Parent = frame
        closeButton.MouseButton1Click:Connect(function()
            screenGui:Destroy()
        end)
        
        local scrollFrame = Instance.new("ScrollingFrame")
        scrollFrame.Size = UDim2.new(1, -10, 1, -70)
        scrollFrame.Position = UDim2.new(0, 5, 0, 55)
        scrollFrame.BackgroundColor3 = Color3.fromRGB(40, 40, 40)
        scrollFrame.BorderSizePixel = 0
        scrollFrame.CanvasSize = UDim2.new(0, 0, 0, #playerList * 45)
        scrollFrame.ScrollBarThickness = 8
        scrollFrame.Parent = frame
        
        for i, playerName in ipairs(playerList) do
            local playerButton = Instance.new("TextButton")
            playerButton.Size = UDim2.new(1, -10, 0, 40)
            playerButton.Position = UDim2.new(0, 5, 0, (i-1) * 45)
            playerButton.BackgroundColor3 = Color3.fromRGB(50, 50, 50)
            playerButton.Text = playerName
            playerButton.TextColor3 = Color3.fromRGB(255, 255, 255)
            playerButton.Font = Enum.Font.Gotham
            playerButton.TextSize = 14
            playerButton.Parent = scrollFrame
            
            playerButton.MouseButton1Click:Connect(function()
                selectedPlayerName = playerName
                WindUI:Notify({
                    Title = "ç ´æˆŸè„šæœ¬",
                    Content = "å·²é€‰æ‹©ç©å®¶: " .. playerName,
                    Icon = "user",
                    Duration = 2
                })
                screenGui:Destroy()
                
                -- æ›´æ–°æ˜¾ç¤º
                UpdatePlayerDisplay()
            end)
        end
        
        -- æ·»åŠ å…³é—­æç¤º
        local closeHint = Instance.new("TextLabel")
        closeHint.Size = UDim2.new(1, 0, 0, 30)
        closeHint.Position = UDim2.new(0, 0, 1, -35)
        closeHint.BackgroundTransparency = 1
        closeHint.Text = "ç‚¹å‡»ç©å®¶åå­—é€‰æ‹©ï¼Œç‚¹å‡»Xå…³é—­"
        closeHint.TextColor3 = Color3.fromRGB(200, 200, 200)
        closeHint.Font = Enum.Font.Gotham
        closeHint.TextSize = 12
        closeHint.Parent = frame
    end
})

-- åˆ·æ–°ç©å®¶åˆ—è¡¨
TeleportControl:Button({
    Title = "åˆ·æ–°ç©å®¶åˆ—è¡¨",
    Desc = "æ›´æ–°åœ¨çº¿ç©å®¶ä¿¡æ¯",
    Callback = function()
        UpdatePlayerDisplay()
        WindUI:Notify({
            Title = "ç ´æˆŸè„šæœ¬",
            Content = "ç©å®¶åˆ—è¡¨å·²åˆ·æ–°",
            Icon = "refresh-cw",
            Duration = 2
        })
    end
})

-- æ·»åŠ åˆ†å‰²çº¿
TeleportControl:Divider()

-- ä¼ é€åŠŸèƒ½
TeleportControl:Button({
    Title = "ä¼ é€åˆ°ç©å®¶",
    Desc = "ä¼ é€åˆ°é€‰ä¸­ç©å®¶ä½ç½®",
    Callback = function()
        local targetPlayer = Players:FindFirstChild(selectedPlayerName)
        if targetPlayer and targetPlayer.Character and targetPlayer.Character:FindFirstChild("HumanoidRootPart") then
            local localChar = localPlayer.Character
            if localChar and localChar:FindFirstChild("HumanoidRootPart") then
                localChar.HumanoidRootPart.CFrame = targetPlayer.Character.HumanoidRootPart.CFrame + Vector3.new(0, 3, 0)
                WindUI:Notify({
                    Title = "ç ´æˆŸè„šæœ¬",
                    Content = "å·²ä¼ é€åˆ° " .. selectedPlayerName .. " èº«è¾¹",
                    Icon = "check",
                    Duration = 3
                })
            else
                WindUI:Notify({
                    Title = "ç ´æˆŸè„šæœ¬",
                    Content = "æ— æ³•æ‰¾åˆ°æ‚¨çš„è§’è‰²",
                    Icon = "x",
                    Duration = 2
                })
            end
        else
            WindUI:Notify({
                Title = "ç ´æˆŸè„šæœ¬",
                Content = "ç©å®¶ä¸å­˜åœ¨æˆ–æ— æ³•ä¼ é€",
                Icon = "x",
                Duration = 3
            })
        end
    end
})

TeleportControl:Button({
    Title = "æ‹‰å–ç©å®¶",
    Desc = "å°†é€‰ä¸­ç©å®¶ä¼ é€åˆ°è‡ªå·±ä½ç½®",
    Callback = function()
        local targetPlayer = Players:FindFirstChild(selectedPlayerName)
        if targetPlayer and targetPlayer.Character and targetPlayer.Character:FindFirstChild("HumanoidRootPart") then
            local localChar = localPlayer.Character
            if localChar and localChar:FindFirstChild("HumanoidRootPart") then
                targetPlayer.Character.HumanoidRootPart.CFrame = localChar.HumanoidRootPart.CFrame + Vector3.new(0, 3, 0)
                WindUI:Notify({
                    Title = "ç ´æˆŸè„šæœ¬",
                    Content = "å·²å°† " .. selectedPlayerName .. " ä¼ é€è¿‡æ¥",
                    Icon = "check",
                    Duration = 3
                })
            else
                WindUI:Notify({
                    Title = "ç ´æˆŸè„šæœ¬",
                    Content = "æ— æ³•æ‰¾åˆ°æ‚¨çš„è§’è‰²",
                    Icon = "x",
                    Duration = 2
                })
            end
        else
            WindUI:Notify({
                Title = "ç ´æˆŸè„šæœ¬",
                Content = "ç©å®¶ä¸å­˜åœ¨æˆ–æ— æ³•ä¼ é€",
                Icon = "x",
                Duration = 3
            })
        end
    end
})

-- è‡ªåŠ¨ä¼ é€å¼€å…³
local autoTeleportEnabled = false
local autoTeleportConnection = nil

TeleportControl:Toggle({
    Title = "è‡ªåŠ¨ä¼ é€è¿½è¸ª",
    Desc = "è‡ªåŠ¨è·Ÿéšé€‰ä¸­ç©å®¶",
    Value = false,
    Callback = function(enabled)
        autoTeleportEnabled = enabled
        
        if enabled then
            if selectedPlayerName == localPlayer.Name then
                WindUI:Notify({
                    Title = "ç ´æˆŸè„šæœ¬",
                    Content = "è¯·å…ˆé€‰æ‹©ä¸€ä¸ªå…¶ä»–ç©å®¶",
                    Icon = "x",
                    Duration = 2
                })
                return
            end
            
            WindUI:Notify({
                Title = "ç ´æˆŸè„šæœ¬",
                Content = "è‡ªåŠ¨ä¼ é€å·²å¼€å¯",
                Icon = "check",
                Duration = 2
            })
            
            -- åˆ›å»ºè‡ªåŠ¨ä¼ é€å¾ªç¯
            autoTeleportConnection = game:GetService("RunService").Heartbeat:Connect(function()
                if autoTeleportEnabled then
                    local targetPlayer = Players:FindFirstChild(selectedPlayerName)
                    local localChar = localPlayer.Character
                    
                    if targetPlayer and targetPlayer.Character and targetPlayer.Character:FindFirstChild("HumanoidRootPart") and
                       localChar and localChar:FindFirstChild("HumanoidRootPart") then
                        localChar.HumanoidRootPart.CFrame = targetPlayer.Character.HumanoidRootPart.CFrame + Vector3.new(0, 3, 0)
                    end
                else
                    if autoTeleportConnection then
                        autoTeleportConnection:Disconnect()
                        autoTeleportConnection = nil
                    end
                end
            end)
        else
            WindUI:Notify({
                Title = "ç ´æˆŸè„šæœ¬",
                Content = "è‡ªåŠ¨ä¼ é€å·²å…³é—­",
                Icon = "x",
                Duration = 2
            })
            
            if autoTeleportConnection then
                autoTeleportConnection:Disconnect()
                autoTeleportConnection = nil
            end
        end
    end
})

-- æŸ¥çœ‹ç©å®¶è§†è§’
local viewPlayerEnabled = false

TeleportControl:Toggle({
    Title = "æŸ¥çœ‹ç©å®¶è§†è§’",
    Desc = "åˆ‡æ¢åˆ°é€‰ä¸­ç©å®¶è§†è§’",
    Value = false,
    Callback = function(enabled)
        viewPlayerEnabled = enabled
        
        if enabled then
            local targetPlayer = Players:FindFirstChild(selectedPlayerName)
            if targetPlayer and targetPlayer.Character and targetPlayer.Character:FindFirstChild("Humanoid") then
                workspace.CurrentCamera.CameraSubject = targetPlayer.Character.Humanoid
                WindUI:Notify({
                    Title = "ç ´æˆŸè„šæœ¬",
                    Content = "æ­£åœ¨æŸ¥çœ‹ " .. selectedPlayerName .. " çš„è§†è§’",
                    Icon = "eye",
                    Duration = 2
                })
            else
                WindUI:Notify({
                    Title = "ç ´æˆŸè„šæœ¬",
                    Content = "æ— æ³•æŸ¥çœ‹ç©å®¶è§†è§’",
                    Icon = "x",
                    Duration = 2
                })
            end
        else
            if localPlayer.Character and localPlayer.Character:FindFirstChild("Humanoid") then
                workspace.CurrentCamera.CameraSubject = localPlayer.Character.Humanoid
                WindUI:Notify({
                    Title = "ç ´æˆŸè„šæœ¬",
                    Content = "å·²æ¢å¤è‡ªå·±è§†è§’",
                    Icon = "eye",
                    Duration = 2
                })
            end
        end
    end
})

-- æ·»åŠ åˆ†å‰²çº¿
TeleportControl:Divider()

-- ç‰¹æ®ŠåŠŸèƒ½éƒ¨åˆ†
TeleportControl:Section({ Title = "ç‰¹æ®Šæ“ä½œ" })

-- å¸å…¨éƒ¨ç©å®¶
local attractAllEnabled = false

TeleportControl:Toggle({
    Title = "å¸å¼•å…¨éƒ¨ç©å®¶",
    Desc = "å°†å…¶ä»–ç©å®¶å¸å¼•åˆ°è‡ªå·±èº«è¾¹",
    Value = false,
    Callback = function(enabled)
        attractAllEnabled = enabled
        
        if enabled then
            WindUI:Notify({
                Title = "ç ´æˆŸè„šæœ¬",
                Content = "å¼€å§‹å¸å¼•å…¨éƒ¨ç©å®¶",
                Icon = "check",
                Duration = 2
            })
            
            task.spawn(function()
                while attractAllEnabled do
                    local localChar = localPlayer.Character
                    if localChar and localChar:FindFirstChild("HumanoidRootPart") then
                        local localPos = localChar.HumanoidRootPart.Position
                        local lookVector = localChar.HumanoidRootPart.CFrame.lookVector
                        
                        for _, player in pairs(Players:GetPlayers()) do
                            if player ~= localPlayer and player.Character and player.Character:FindFirstChild("HumanoidRootPart") then
                                player.Character.HumanoidRootPart.CFrame = CFrame.new(localPos + lookVector * 3, localPos + lookVector * 4)
                            end
                        end
                    end
                    task.wait(0.1)
                end
            end)
        else
            WindUI:Notify({
                Title = "ç ´æˆŸè„šæœ¬",
                Content = "å·²åœæ­¢å¸å¼•ç©å®¶",
                Icon = "x",
                Duration = 2
            })
        end
    end
})

-- ç”©é£åŠŸèƒ½å¢å¼ºç‰ˆ
local flingPower = 50  -- é»˜è®¤ç”©é£åŠ›åº¦
local flingDistance = 5  -- é»˜è®¤ç”©é£è·ç¦»

-- æ·»åŠ ç”©é£èŒƒå›´è°ƒèŠ‚æ»‘å—
TeleportControl:Slider({
    Title = "ç”©é£åŠ›åº¦è°ƒèŠ‚",
    Desc = "æ§åˆ¶ç”©é£çš„å¼ºåº¦ (1-100)",
    Value = { Min = 1, Max = 100, Default = 50 },
    Callback = function(value)
        flingPower = value
        WindUI:Notify({
            Title = "ç ´æˆŸè„šæœ¬",
            Content = "ç”©é£åŠ›åº¦å·²è®¾ç½®ä¸º: " .. value,
            Icon = "zap",
            Duration = 2
        })
    end
})

TeleportControl:Slider({
    Title = "ç”©é£è·ç¦»è°ƒèŠ‚",
    Desc = "æ§åˆ¶ç”©é£çš„è·ç¦» (1-50)",
    Value = { Min = 1, Max = 50, Default = 5 },
    Callback = function(value)
        flingDistance = value
        WindUI:Notify({
            Title = "ç ´æˆŸè„šæœ¬",
            Content = "ç”©é£è·ç¦»å·²è®¾ç½®ä¸º: " .. value,
            Icon = "zap",
            Duration = 2
        })
    end
})

-- æ”¹è¿›çš„ç”©é£åŠŸèƒ½
local function PerformEnhancedFling(targetPlayer)
    if not targetPlayer or targetPlayer == localPlayer then return end
    
    local localChar = localPlayer.Character
    local targetChar = targetPlayer.Character
    
    if not localChar or not targetChar then return end
    
    local localHum = localChar:FindFirstChildOfClass("Humanoid")
    local targetHum = targetChar:FindFirstChildOfClass("Humanoid")
    
    if not localHum or not targetHum then return end
    
    local localRoot = localHum.RootPart
    local targetRoot = targetHum.RootPart
    
    if not localRoot or not targetRoot then return end
    
    -- ä¿å­˜åŸå§‹ä½ç½®å’Œé€Ÿåº¦
    local originalPos = localRoot.CFrame
    local originalVelocity = localRoot.Velocity
    local originalRotVelocity = localRoot.RotVelocity
    
    -- æ ¹æ®è°ƒèŠ‚çš„å‚æ•°è®¡ç®—åŠ›åº¦
    local powerMultiplier = flingPower * 10000
    local distanceMultiplier = flingDistance
    
    -- åˆ›å»ºå¼ºå¤§çš„é€Ÿåº¦æ•ˆæœ
    local bodyVelocity = Instance.new("BodyVelocity")
    bodyVelocity.Name = "EnhancedFlingForce"
    bodyVelocity.Parent = localRoot
    bodyVelocity.Velocity = Vector3.new(powerMultiplier, powerMultiplier, powerMultiplier)
    bodyVelocity.MaxForce = Vector3.new(math.huge, math.huge, math.huge)
    
    local bodyAngularVelocity = Instance.new("BodyAngularVelocity")
    bodyAngularVelocity.Name = "EnhancedFlingRotation"
    bodyAngularVelocity.Parent = localRoot
    bodyAngularVelocity.AngularVelocity = Vector3.new(powerMultiplier, powerMultiplier, powerMultiplier)
    bodyAngularVelocity.MaxTorque = Vector3.new(math.huge, math.huge, math.huge)
    
    -- ç”©é£åŠ¨ç”»å¾ªç¯ - ä½¿ç”¨è°ƒèŠ‚åçš„è·ç¦»
    local flingLoop = game:GetService("RunService").Heartbeat:Connect(function()
        if localRoot and targetRoot then
            -- åˆ›å»ºæ›´å¼ºçƒˆçš„æ—‹è½¬å’Œç§»åŠ¨æ•ˆæœ
            local angle = tick() * (10 + flingPower / 5)  -- åŠ›åº¦å½±å“æ—‹è½¬é€Ÿåº¦
            local distance = distanceMultiplier * 2  -- è·ç¦»å½±å“ç”©é£èŒƒå›´
            
            -- è®¡ç®—ç”©é£ä½ç½®
            local offset = CFrame.new(
                math.sin(angle) * distance,
                math.cos(angle) * distance + 3,
                math.cos(angle) * distance
            )
            
            -- åº”ç”¨ç”©é£æ•ˆæœ
            localRoot.CFrame = targetRoot.CFrame * offset * CFrame.Angles(0, angle, 0)
            
            -- åº”ç”¨é€Ÿåº¦å’Œæ—‹è½¬
            localRoot.Velocity = Vector3.new(
                math.sin(angle) * powerMultiplier,
                math.cos(angle) * powerMultiplier,
                math.cos(angle) * powerMultiplier
            )
            
            localRoot.RotVelocity = Vector3.new(
                math.sin(angle) * powerMultiplier,
                math.cos(angle) * powerMultiplier,
                math.cos(angle) * powerMultiplier
            )
        end
    end)
    
    -- æ‰§è¡Œç”©é£æ•ˆæœ
    local flingDuration = 2 + (flingPower / 50)  -- åŠ›åº¦å½±å“æŒç»­æ—¶é—´
    
    -- æ‰§è¡Œç”©é£
    for i = 1, flingDuration * 10 do
        if localRoot and targetRoot then
            -- é€æ¸å¢åŠ åŠ›åº¦
            local currentPower = powerMultiplier * (i / (flingDuration * 10))
            bodyVelocity.Velocity = Vector3.new(currentPower, currentPower, currentPower)
            bodyAngularVelocity.AngularVelocity = Vector3.new(currentPower, currentPower, currentPower)
        end
        task.wait(0.1)
    end
    
    -- æ¸…ç†æ•ˆæœ
    if flingLoop then
        flingLoop:Disconnect()
    end
    
    if bodyVelocity and bodyVelocity.Parent then
        bodyVelocity:Destroy()
    end
    
    if bodyAngularVelocity and bodyAngularVelocity.Parent then
        bodyAngularVelocity:Destroy()
    end
    
    -- è¿”å›åŸå§‹ä½ç½®
    if localRoot then
        localRoot.CFrame = originalPos
        localRoot.Velocity = originalVelocity
        localRoot.RotVelocity = originalRotVelocity
    end
    
    WindUI:Notify({
        Title = "ç ´æˆŸè„šæœ¬",
        Content = string.format("ç”©é£å®Œæˆï¼åŠ›åº¦: %d, è·ç¦»: %d", flingPower, flingDistance),
        Icon = "zap",
        Duration = 2
    })
end

-- å•æ¬¡ç”©é£ - ä½¿ç”¨å¢å¼ºç‰ˆ
TeleportControl:Button({
    Title = "ç”©é£ç©å®¶",
    Desc = "å¯¹é€‰ä¸­ç©å®¶æ‰§è¡Œç”©é£æ•ˆæœ",
    Callback = function()
        local targetPlayer = Players:FindFirstChild(selectedPlayerName)
        if targetPlayer and targetPlayer ~= localPlayer then
            WindUI:Notify({
                Title = "ç ´æˆŸè„šæœ¬",
                Content = string.format("å¼€å§‹ç”©é£ %s (åŠ›åº¦: %d, è·ç¦»: %d)", selectedPlayerName, flingPower, flingDistance),
                Icon = "zap",
                Duration = 2
            })
            PerformEnhancedFling(targetPlayer)
        else
            WindUI:Notify({
                Title = "ç ´æˆŸè„šæœ¬",
                Content = "æ— æ³•ç”©é£ç›®æ ‡ç©å®¶",
                Icon = "x",
                Duration = 2
            })
        end
    end
})

-- è¿ç»­ç”©é£å¼€å…³
local autoFlingEnabled = false

TeleportControl:Toggle({
    Title = "è¿ç»­ç”©é£æ¨¡å¼",
    Desc = "æŒç»­å¯¹é€‰ä¸­ç©å®¶æ‰§è¡Œç”©é£",
    Value = false,
    Callback = function(enabled)
        autoFlingEnabled = enabled
        
        if enabled then
            local targetPlayer = Players:FindFirstChild(selectedPlayerName)
            if not targetPlayer or targetPlayer == localPlayer then
                WindUI:Notify({
                    Title = "ç ´æˆŸè„šæœ¬",
                    Content = "æ²¡æœ‰å¯ç”©é£çš„ç›®æ ‡ç©å®¶",
                    Icon = "x",
                    Duration = 2
                })
                return
            end
            
            WindUI:Notify({
                Title = "ç ´æˆŸè„šæœ¬",
                Content = "è¿ç»­ç”©é£å·²å¼€å¯",
                Icon = "check",
                Duration = 2
            })
            
            task.spawn(function()
                while autoFlingEnabled do
                    local targetPlayer = Players:FindFirstChild(selectedPlayerName)
                    if targetPlayer and targetPlayer ~= localPlayer then
                        PerformEnhancedFling(targetPlayer)
                    end
                    task.wait(0.5)
                end
            end)
        else
            WindUI:Notify({
                Title = "ç ´æˆŸè„šæœ¬",
                Content = "è¿ç»­ç”©é£å·²å…³é—­",
                Icon = "x",
                Duration = 2
            })
        end
    end
})

-- ç”©é£å…¨éƒ¨ç©å®¶
TeleportControl:Button({
    Title = "ç”©é£å…¨éƒ¨ç©å®¶",
    Desc = "å¯¹æ‰€æœ‰ç©å®¶æ‰§è¡Œç”©é£æ•ˆæœ",
    Callback = function()
        WindUI:Notify({
            Title = "ç ´æˆŸè„šæœ¬",
            Content = string.format("å¼€å§‹ç”©é£å…¨éƒ¨ç©å®¶ (åŠ›åº¦: %d, è·ç¦»: %d)", flingPower, flingDistance),
            Icon = "zap",
            Duration = 2
        })
        
        local hasPlayers = false
        for _, player in pairs(Players:GetPlayers()) do
            if player ~= localPlayer then
                PerformEnhancedFling(player)
                task.wait(0.2)
                hasPlayers = true
            end
        end
        
        if not hasPlayers then
            WindUI:Notify({
                Title = "ç ´æˆŸè„šæœ¬",
                Content = "æ²¡æœ‰å…¶ä»–ç©å®¶å¯ç”©é£",
                Icon = "x",
                Duration = 2
            })
        end
    end
})
